module.exports.config = {
    name: "cudi",
    version: "2.0.0",
    hasPermssion: 1,
    credits: "Adi.0X",
    description: "ржПржХрж╛ржзрж┐ржХ ржмрзНржпржХрзНрждрж┐ржХрзЗ ржЯрзНржпрж╛ржЧ ржХрж░рзЗ ржХрзНрж░ржорж╛ржЧржд ржЪрзЛржжрж╛ржирзЛ, /cudi off ржжрж┐рж▓рзЗ ржмржирзНржз рж╣ржмрзЗред",
    commandCategory: "Attack",
    usages: "/cudi @mention1 @mention2 ... | /cudi off",
    cooldowns: 1
};

let activeThreads = {}; // ржЪрж╛рж▓рзБ ржерж╛ржХрж╛ ржерзНрж░рзЗржб ржЯрзНрж░рзНржпрж╛ржХ ржХрж░ржмрзЗ

module.exports.run = async function({ api, event, args }) {
    let threadID = event.threadID;
    let command = args[0];

    // ржпржжрж┐ "/cudi off" ржжрзЗрзЯрж╛ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ ржмржирзНржз ржХрж░рзЗ ржжрзЗржмрзЗ
    if (command === "off") {
        if (activeThreads[threadID]) {
            clearInterval(activeThreads[threadID]); // рж▓рзБржк ржмржирзНржз
            delete activeThreads[threadID];
            return api.sendMessage("тЬЕ Cudi ржмржирзНржз рж╣рзЯрзЗ ржЧрзЗржЫрзЗ!", threadID);
        } else {
            return api.sendMessage("Cudi ржЖржЧрзЗ ржерзЗржХрзЗржЗ ржмржирзНржз ржЖржЫрзЗ!", threadID);
        }
    }

    // ржорзЗржирж╢ржи ржХрж░рж╛ ржЗржЙржЬрж╛рж░ржжрзЗрж░ ржмрзЗрж░ ржХрж░рж╛
    let mentions = event.mentions;
    if (Object.keys(mentions).length === 0) {
        return api.sendMessage("ржмрж╕рзН ржжрзЯрж╛ ржХрж░рзЗ ржЕржирзНрждржд ржПржХржЬржи ржорзБрж░ржЧрж┐ржХрзЗ @mention ржХрж░рзБржи!ЁЯШЛ", threadID);
    }

    let mentionData = Object.keys(mentions).map(id => ({ id, tag: mentions[id] }));
    
    // ржпржжрж┐ ржЖржЧрзЗ ржерзЗржХрзЗржЗ ржЪрж╛рж▓рзБ ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ ржмрж╛рж░рзНрждрж╛ ржжрзЗрзЯ
    if (activeThreads[threadID]) {
        return api.sendMessage("тЪая╕П Cudi ржЗрждрж┐ржоржзрзНржпрзЗ ржЪрж╛рж▓рзБ ржЖржЫрзЗ! ржмржирзНржз ржХрж░рждрзЗ /cudi off ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред", threadID);
    }

    // рж▓рзБржк ржЪрж╛рж▓рзБ ржХрж░рж╛
    activeThreads[threadID] = setInterval(() => {
        let messages = [
            "ржЪрзБржжрж╛ рж▓рзЛ {name}!",
            "ржЦрж╛ржВржХрж┐рж░ ржкрзЛрж▓рж╛ {name} рждрж░ ржорж╛рж░рзЗ ржЪрзБржжрж┐ ЁЯе░ред",
            "ржЦрж╛ржВржХрж┐рж░ ржкрзЛрж▓рж╛ {name} рждрж░ ржХржЪрж┐ ржмрзЛржи рж░рзЗ ржЪрзБржжрж┐ ЁЯШН..",
            "ржорж╛ржжрж╛рж░ржЪрзЛржж {name} рждрж░ ржЖржорзНржорзБрж░ ржкржо ржкржо ржЪрзБрж╖рзЗ ржжрж┐, ржпрж╛ ржирж┐рзЯрзЗ ржЖрзЯ ржЦрж╛ржВржХрж┐рж░ ржкрзЛрж▓рж╛ ЁЯР░",
            "ржХрж┐рж░рзЗ ржЖржорж╛рж░ ржЬрж╛рж░ржЬ ржкрзЛрж▓рж╛ {name}",
            "{name} рждрзЛрж░ ржЖржорзНржорзБрж░ рж╕рж╛ржерзЗ ржЦрж╛ржЯ ржХрж╛ржБржкрж╛ржирзЛрж░ ржлрж╕рж▓ рждрзБржЗ ЁЯдо",
            "ржЦрж╛ржВржХрж┐рж░ ржкрзЛрж▓рж╛ {name} рждрж░ ржмрзЛржирзЗрж░ ржХржЪрж┐ ржнрзБржжрж╛рзЯ ржнрзБржжрж╛рзЯ ржХрж╛ржорж░ ржжрж┐ржорзБ ЁЯТФ!",
            "ржП {name} ржЦрж╛ржВржХрж┐ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ ржХржерж╛ ржХ ржХржо ржХржо\n рждрж░ ржЖржорзНржорзБ рж░рзЗ ржЪрзБржжрзЗ ржмрж╛ржирж╛ржорзБ ржЖржЗржЯрзЗржо ржмрзЛржо",
            "depression ржерзЗржХрзЗржУ {name} ржорж╛ржЗрж░рзЗ ржЪрзБржжрж┐ ЁЯдм ",
            "{name} рждрж░ ржЖржорзНржорзБ рж░рзЗ ржЖржЪрж╛рж░ ржПрж░ рж▓рзЛржн ржжрзЗржЦрж┐ ржЪрзБржжрж┐ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ЁЯдм",
            "ржмрж╛ржирзНржжрж┐рж░ ржкрзЛрж▓рж╛ {name} рждрж░ ржХржЪрж┐ ржмрзЛржирзЗрж░ ржнрзБржжрж╛ ржлрж╛ржХ ржХрж░ ржерзБрждрзБ ржжрж┐рзЯрзЗ ржнрзБржжрж╛рзЯ ржжржи ржбрзБржХрж╛ржорзБ ЁЯНМЁЯТж",
            "{name} ржмрж╛ржирзНржжрж┐ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ рждрж░ ржЖржорзНржорзБ рж░рзЗ ржЪрзБржжрж┐ рждрж░ ржжрзБрж▓рж╛ ржнрж╛ржЗ ржПрж░ ржХрж╛ржирзНржжрзЗ ржлрзЗрж▓рзЗ ЁЯдЭ",
            "ржЙржлржлржл ржЦрж╛ржжрзНржжрж╛ржорж╛ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ рждрж░ ржЖржорзНржорзБрж░ ржХрж╛рж▓рж╛ ржнрзБржжрж╛рзЯ ржЖржорж╛рж░ ржорж╛рж▓ ржЖржЙржЯ рждрж░ ржХржЪрж┐ ржмрзЛржи рж░рзЗ ржЙржкрзНрждрж╛ ржХрж░рзЗ ржПржмрж╛рж░ ржЪрзБржжржмрзЛ ЁЯТЙЁЯШЛ {name}",
            "{name} ржЕржирж▓рж╛ржЗржирзЗ ржЧрж╛рж▓рж┐ржмрж╛ржЬ рж╣рзЯрзЗ ржЧрзЗржЫржд ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ ржПржоржи ржЪрзБржжрж╛ ржжрж┐ржорзБ рж▓рж╛ржЗржл ржЯрж╛ржЗржо ржоржирзЗ рж░рж╛ржЦржмрж┐ ржЖржорж┐ рждрж░ ржмрж╛ржк, ржорж╛ржЧрж┐рж░ ржЫрзЗрж▓рзЗ ЁЯШШред",
            "ржмрж╛рждрж┐ржЬрж╛ рж╢рзБржи рждрж░ ржЖржорзНржорзБ рж░рзЗ ржЪрзБржжрж▓рзЗ рж░рж╛ржЧ ржХрж░ржмрж┐ ржирж╛ рждрзЛ ржЖржЪрзНржЫрж╛ ржпрж╛ рж░рж╛ржЧ ржХрж░рж┐рж╕ ржирж╛ рждрж░ ржЖржорзНржорзБрж░ ржХрж╛рж▓рж╛ ржЧржирзНржз ржнрзЛржжрж╛ ржЖрж░ ржЪрзБржжрж▓рж╛ржо ржирж╛ рждрзЛ ржмрзЛржи ржПрж░ ржЬрж╛ржорж╛ ржЯрж╛ ржЦрзБрж▓рзЗ ржжрзЗ тЬЛЁЯе░ {name}",
            "{name} рж╣рж╛ржЗ ржорж╛ржжрж╛рж░ржЪрзЛржж рждрж░ ржмрзНржпрж╛рж╢рж╛ ржЬрж╛рждрзЗрж░ ржЖржорзНржорзБ ржЯрж╛ рж░рзЗ ржЖржжрж░ ржХрж░рзЗ ржХрж░рзЗ ржЪрзБржжрж┐ ЁЯМ╢я╕ПЁЯТж",
            "{name} ~ ржЪрзБржжрж╛ ржХрж┐ ржЖрж░рзЛ ржЦрж╛ржмрж┐ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ ЁЯдЦ",
            "ржХрж╛рж▓рж╛ ржнрзЛржжрж╛рж░ ржерзЗржХрзЗ ржмрзЗрж░ рж╣ржУржпрж╝рж╛ ржЖржорж╛рж░ ржЫрзЗрж▓рзЗ {name} ржХржЗрж░рзЗ ЁЯШ╡тАНЁЯТл",
            "{name} ржЦрж╛ржиржХрж┐рж░ ржкрзЛрж▓рж╛ ржХрзЛржЗрж░рзЗ рж╕рж┐ржи ржжрзЗ",
            "{name} ржорж╛ржжрж╛рж░ржЪрзЛржж ЁЯдгЁЯдг",
            "ржкрждрж┐рждрж╛ ржорж╛ржЧрж┐рж░ржкрзЛрж▓рж╛ {name}ЁЯШВ",
            "ржмрзНржпрж╛рж╢рзНржпрж╛ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ ЁЯдв {name}",
            "{name} рждрж░ ржорж╛рж░рзЗ ржЪрзБржжрж┐",
            "{name} рждрж░ ржмрзЛржи рж░рзЗ ржкрж╛рзЯржЬрж╛ржорж╛ ржЦрзБрж▓рзЗ ржЪрзБржжрж┐ ЁЯдг",
            "ЁЯШШ ржЙржорзНржоржорзНржорж╛ {name} ржПрж░ ржмрзЛржирзЗрж░ ржХржЪрж┐ ржнрзБржжрж╛рзЯЁЯТЙред",
            "{name} DNA ржЯрзЗрж╖рзНржЯ ржХрж░рзЗ ржжрзЗржЦржмрж┐ ржЖржорж╛рж░ ржЪрзБржжрж╛ рждрзЗржЗ рждрж░ ржЬржирзНржоред ЁЯзм",
            "ржХрж╛ржорж▓рж╛ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ тЬЛ {name}",
            "ржмрж╛рж╕рзНржЯрзНрж░рж╛ржб ржПрж░ ржмрж╛ржЪрзНржЪрж╛ ржмрж╕рзНрждрж┐рж░ ржкрзЛрж▓рж╛ {name}",
            "{name}~ ржЖржорж╛рж░ ржЬрж╛рж░ржЬ рж╕ржирзНрждрж╛ржи ЁЯдЦ",
            "{name} рждрж░ ржХржЪрж┐ ржмрзЛржи ржПрж░ ржкржо ржкржоЁЯШН..",
            "{name} ржмрзНржпрж╛рж╕рзНржпрж╛рж░ ржкрзЛрж▓рж╛ ржХржерж╛ рж╢рзБржи рждрж░ ржЖржорзНржорзБ рж░рзЗ ржЪрзБржжрж┐ ржЧрж╛ржоржЫрж╛ ржкрзЗржЪрж┐рзЯрзЗЁЯР░", 
            "Hi ржЖржжрж┐рж░ ржЬрж╛рж░ржЬ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ {name}!",
            "рзирзж ржЯрж╛ржХрж╛ ржкрждрж┐рждрж╛ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ {name} ЁЯШ╡",
            "ржмрж╕рзНрждрж┐рж░ ржЫрзЗрж▓рзЗ ржЕржирж▓рж╛ржЗржирзЗрж░ ржХрж┐ржВ {name} ЁЯШВ",
            "ржЯрзБржХрж╛ржЗ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ЁЯдЯ {name}",
            "{name}, ржЖржорзНржорзБ рж░рзЗ ржкрж╛рзЯржЬрж╛ржорж╛ ржЦрзБрж▓рзЗ ржЪрзБржжрж┐ ЁЯдг",
            "рж╣рж┐ржЬрж▓рж╛ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ {name}тЬЛ",
            "ржмрж╕рзНрждрж┐рж░ржирзНржжрж╛рж▓рж╛рж▓ ржПрж░ ржмрж╛ржЪрзНржЪрж╛ ржмрж╕рзНрждрж┐рж░ ржкрзЛрж▓рж╛ {name}",
            "{name}~ ржЖржорж╛рж░ ржЬрж╛рж░ржЬ рж╕ржирзНрждрж╛ржи ржпрж╛ ржнрж╛ржЧЁЯдЦ",
            "Welcome рж╢рзБрзЯрзЛрж░рзЗрж░ ржмрж╛ржЪрзНржЪрж╛ {name}ЁЯе░ред",
            "ржХрзБрждрзНрждрж╛рж░ ржмрж╛ржЪрзНржЪрж╛ {name} ржПрж░ ржХржЪрж┐ ржмрзЛржирзЗрж░ ржжрзБржзрзЗрж░ ржмрзЛржЯрж╛ЁЯШН..",
            "ржмрж╕рзНрждрж┐рж░ ржЫрзЗрж▓рзЗ {name} рждрзЛрж░ ржмржЗржирж░рзЗ ржорзБрж╕рж▓ржорж╛ржирж┐ ржжрж┐ржорзБ ЁЯФк",
            "ржЯрзБржХрж╛ржЗ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ {name} ржорзЛржмрж╛ржЗрж▓ ржнрж╛ржЗржмрзНрж░рзЗрж╢ржи ржХржЗрж░рж╛ рждрзБрж░ ржХржЪрж┐ ржмрзЛржи ржПрж░ ржкрзБржХржЯрж┐рждрзЗ ржнрж░ржмрзЛредЁЯдЯЁЯУ│",
            "{name} рждрзЛрж░ ржорзБржЦрзЗ рж╣рж╛ржЗржЧрзНржпрж╛ ржжрж┐ржорзБред ЁЯдгЁЯТй",
            "рждрзЛрж░рзЗ ржХрзБрждрзНрждрж╛рж░ ржкрзБржХржЯрж┐ ржЪрж╛ржЯрж╛ржорзБЁЯТЙ {name}ред",
            "{name} рждрж░ ржЖржорзНржорзБрж░ рж╣рзЛржЧрж╛ ржжрж┐рзЯрж╛ ржЯрзНрж░рзЗржи ржнржЗрж░рж╛ ржжрж┐ржорзБ ЁЯЪД",
            "{name} рж╣рж┐ржЬрж▓рж╛ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ рж╣рж╛рждрж┐рж░ рж▓рзНржпрж╛ржУрзЬрж╛ ржжрж┐рзЯрж╛ рждрж░ ржорж╛рзЯрзЗрж░рзЗ ржЪрзБржжржмрзЛред тЬЛ",
            "{name} рждрж░ ржмрзЛржи ржнрзЛржжрж╛ ржЫрж┐рж▓рзНрж▓рж╛ рж▓ржмржг рж▓рж╛ржЧрж╛рзЯ ржжрж┐ржорзБред ЁЯМ╢я╕ПЁЯШЭ",
            "{name} ~ ржЖржорж╛рж░ ржлрж╛ржЯрж╛ ржХржирзНржбржорзЗрж░ ржлрж╕рж▓ред ржпрж╛ржГ ржнрж╛ржЧЁЯдЦ",
            "ржХрзБрждрзНрждрж╛рж░ ржмрж╛ржЪрзНржЪрж╛ {name} рждрж░ ржмрзЛржирзЗрж░ ржнрзЛржжрж╛рзЯ ржорж╛ржЧрзБрж░ ржорж╛ржЫ ржЪрж╛рж╖ ржХрж░рзБржоредЁЯШН..",
            "{name} ржЦрж╛ржЩрзНржХрж┐рж░ржкрзЛрж▓рж╛ ржкрзЛрж▓рж╛ рждрж░ ржмрзЛржирзЗрж░ рж╣рзЛржЧрж╛рзЯ ржЗржиржкрзБржЯ,┬арждрж░ ржорж╛рзЯрзЗрж░ ржнрзЛржжрж╛рзЯ ржЖржЙржЯржкрзБржЯредЁЯР░",
            "{name} рждрж░ ржорж╛рзЯрзЗрж░ ржнрзЛржжрж╛ ржмрзЛржорзНржмрж╛ржЗ ржорж░рж┐ржЪ ржжрж┐рзЯрж╛ ржЪрзБржжрж╛ржорзБредЁЯМ╢я╕ПЁЯЦХ!",
            "{name} ржЦрж╛ржирзНржХрж┐ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ рждрж░ ржорж╛рзЯрзЗрж░ ржнрзЛржжрж╛ рж╢рж┐рж░рж┐рж╖ ржХрж╛ржЧржЬ ржжрж┐рзЯрж╛ ржШржЗрж╖рж╛ ржжрж┐ржорзБред ",
            "ржЬржВ ржзрж░рж╛ рж▓рзЛрж╣рж╛ ржжрж┐рзЯрж╛ ржкрж╛ржХрж┐рж╕рзНрждрж╛ржирзЗрж░ ржорж╛ржиржЪрж┐рждрзНрж░ ржмрж╛ржирж╛ржЗрзНрзЯрж╛ рждрзЛржжрзЗрж░ ржкрж┐ржЫржи ржжрж┐рзЯрж╛ ржврзБржХрж╛ржорзБредЁЯдм ",
            "ржмрж╕рзНрждрж┐рж░ ржЫрзЗрж▓рзЗ {name} рждрж░ ржорж╛рзЯрзЗрж░ ржнрзБржжрж╛рждрзЗ ржкрзЛржХрж╛ ЁЯк▒ЁЯжаЁЯРЮЁЯк░",
            "ржЯрзБржХрж╛ржЗ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ {name} рждрж░ ржорж╛рж░ ржнрзЛржжрж╛рзЯ ржкрж╛ржмрзНрж▓рж┐ржХ ржЯрзЯрж▓рзЗржЯ ЁЯЪ╜",
            "{name} рждрзЛрж░ ржорзБржЦрзЗ рж╣рж╛ржЗржЧрзНржпрж╛ ржжрж┐ржорзБред ржнрзБрж╕рзНржХрж┐ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ ЁЯдг",
            "{name} рждрзЛрж░ ржХрж╛ржирзНржжрзЗ ржлрж╛рж▓рж╛ржЗрзЯрж╛ рждрж░ ржорж╛рзЯрзЗрж░рзЗ ржЪрзБржжрж┐ЁЯТЙ",
            "{name} рждрж░ ржЖржорзНржорзБрж░ ржЙржкрзНрждрж╛ ржХржЗрж░рж╛ ржЪрзБржжрж╛ ржжрж┐ржорзБредред",
            "рж╣рж┐ржЬрж▓рж╛ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ ржмрж╛рж▓рж┐ ржжрж┐рзЯрж╛ ржЪрзБржжржорзБ рждрж░ ржЦрж╛ржЩрзНржХрж┐ ржорж╛ржЧрзА ржорж╛ржХрзЗред тЬЛ{name}",
            "{name} ~ ржЖржорж╛рж░ ржкрзБрждред ржпрж╛рж╣ ржнрж╛ржЧЁЯдЦ"
            

        ];

        mentionData.forEach((mention, index) => {
            setTimeout(() => {
                let msg = messages[Math.floor(Math.random() * messages.length)].replace("{name}", mention.tag);
                api.sendMessage({ body: msg, mentions: [mention] }, threadID);
            }, index * 750); // ржкрзНрж░рждрж┐ржЯрж┐ ржорзЗрж╕рзЗржЬрзЗрж░ ржоржзрзНржпрзЗ 0.75 рж╕рзЗржХрзЗржирзНржб ржЧрзНржпрж╛ржк
        });

    }, 61000); // ржкрзНрж░рждрж┐ 61 рж╕рзЗржХрзЗржирзНржбрзЗ ржПржХржмрж╛рж░ рж░рж┐ржкрж┐ржЯ рж╣ржмрзЗ

    return api.sendMessage("тЬЕ Cudi ржЪрж╛рж▓рзБ рж╣рзЯрзЗржЫрзЗ!", threadID);
};
